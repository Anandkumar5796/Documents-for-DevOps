**Prometheus Overview**

Prometheus is an open-source monitoring and alerting system that is designed to gather and store time-series data (metrics) from various targets, such as servers, applications, and services. It is widely used in the field of observability to monitor the health and performance of systems

**Installing prometheus using docker image**

Pull the Prometheus Docker Image:
Open your terminal and run the following command to pull the Prometheus Docker image from Docker Hub:
1.docker pull prom/prometheus

Run Grafana Container:
Once the image is downloaded, you can run a prometheus container using the following command:
Create a Configuration File (prometheus.yml):
Begin by creating a configuration file named prometheus.yml to define the targets Prometheus should scrape for metrics. You can customize this file according to your monitoring requirements. Here's a basic 
global:
  scrape_interval: 15s

scrape_configs:
  - job_name: 'prometheus'
    static_configs:
      - targets: ['localhost:9090']
2.docker run -d -p 9090:9090 --name=prometheus -v /path/to/prometheus.yml:/etc/prometheus/prometheus.yml prom/prometheus
Explanation of flags used in the command:
    -d: Run the container in detached mode.
    -p 9090:9090: Map port 9090 from the container to port 9090 on your host machine.
    -v /path/to/prometheus.yml:/etc/prometheus/prometheus.yml: Mount the prometheus.yml configuration file into the container.

3.Access Prometheus Web Interface:
After running the container, you can access the Prometheus web interface by opening a web browser and navigating to http://localhost:9090. Here, you can write PromQL queries and visualize collected metrics.

4.Configure Targets and Explore Metrics:
To monitor other services or applications, modify the prometheus.yml configuration to include the relevant targets (endpoints of services you want to monitor). Prometheus will regularly scrape these targets for metrics data.

For example, to monitor a service running in another Docker container, you would add an additional static_configs block to the scrape_configs section in the configuration.

**Installing prometheus using docker image**

helm repo add prometheus-community https://prometheus-community.github.io/helm-charts
helm repo update
helm install prometheus prometheus-community/prometheus
kubectl expose service prometheus-server --type=NodePort --target-port=9090 --name=prometheus-server-ext
minikube service prometheus-server-ext

**Components of Prometheus**

Prometheus is composed of several core components that work together to provide monitoring, data collection, storage, querying, and alerting capabilities. Here are the key Prometheus components:

Prometheus Server : The core component responsible for collecting, storing, and serving metrics data. It scrapes configured targets (such as services, applications, or other systems) to gather metrics and stores them locally.

PromQL (Prometheus Query Language) : A powerful query language used to retrieve and manipulate metrics data stored in Prometheus. PromQL allows you to perform complex queries, aggregations, filtering, and arithmetic operations on time-series data.

Data Storage : Prometheus uses its own time-series database to store metrics data. This storage is optimized for write-heavy workloads and maintains a sliding window of historical data based on configurable retention periods.

Scraping and Target Discovery : Prometheus follows a pull-based model for data collection. It periodically scrapes (pulls) metrics data from configured targets (endpoints exposed by monitored services). It also supports various service discovery mechanisms to dynamically identify and monitor new instances of targets.

Alert Manager : The Alert Manager is responsible for managing alerts generated by Prometheus. It groups, deduplicates, and routes alerts to various alerting channels such as email, Slack, or custom integrations.

Exporters : Exporters are small programs or components that expose metrics from third-party systems or applications that Prometheus cannot scrape directly. Exporters act as intermediaries, translating data from various formats into Prometheus-compatible metrics.

Push Gateway (Optional) : The Push Gateway is used in cases where some systems cannot be scraped directly by Prometheus due to short lifetimes or firewalls. It allows jobs to push metrics to a gateway, which Prometheus can then scrape.

Service Discovery : Prometheus supports various service discovery mechanisms to automate the identification and monitoring of new instances of targets. This is particularly useful in dynamic environments like container orchestration platforms.

Alerting Rules : Prometheus allows you to define alerting rules using PromQL. These rules define conditions under which an alert should be triggered. When the conditions are met, alerts are sent to the Alert Manager.

Grafana Integration (Optional) : While not a direct component of Prometheus, Grafana is often used alongside Prometheus to visualize and analyze metrics data. Grafana can query Prometheus for metrics and display them in various visualizations.

Remote Storage (Optional) : In scenarios with high data volume, Prometheus can use remote storage solutions like Thanos to offload historical data to object storage, enabling long-term retention and query federation.